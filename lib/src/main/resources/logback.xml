<?xml version="1.0" encoding="UTF-8"?>
<configuration debug="false">
    <!-- Set the above debug attribute to true to see logback status information. -->

    <!-- The encoder uses a default class.  This can be changed using the class attribute -->
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <!-- The log output format. UNIQUE_ID is a custom MDC variable passed from
                 the APIM down through the loadbalancer and proxy to the container.
                 It provides end to end request tracking.  A random string will be
                 generated by the servlet filter or thread initialization code when
                 one is not available in the http request header.
                 See TapisLoggingFilter for details. -->
            <Pattern>%date{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%thread/%X{UNIQUE_ID}] %class{36}:%line - %msg%n</Pattern>
        </encoder>
    </appender>

    <!-- Rollover to a new log file on a monthly basis, set a limits to manage sizes,
         default output to the user's home directory. Each job JVM is expected to have
         its own dedicated logfile.  This removes the need to run in prudent mode
         and deal with attendant scalability issues. -->


    <!-- Root logger's appenders are inherited by other loggers by default -->
    <root level="ERROR">
        <appender-ref ref="STDOUT" />
    </root>

    <!-- Set additivity attribute to false to not inherit ancestor appenders. -->
    <logger name="edu.utexas.tacc.tapis" level="INFO"/>

    <!-- Control library logging. -->
    <logger name="com.zaxxer.hikari" level="ERROR"/>
</configuration>